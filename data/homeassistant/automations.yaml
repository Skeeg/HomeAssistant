- id: GarageOpening
  alias: GarageDoorOpening
  description: ''
  triggers:
  - entity_id:
    - cover.third_car_garage_door
    to: opening
    trigger: state
  - entity_id:
    - cover.main_garage_door
    to: opening
    trigger: state
  conditions: []
  actions:
  - data: {}
    target:
      entity_id:
      - light.main_garage_light
      - light.third_car_garage_light
      - light.garage_lights_secondary
      - light.garage_lamp
      - light.garage_lights
    action: light.turn_on
- id: GarageClosing
  alias: GarageDoorClosed
  description: ''
  triggers:
  - entity_id:
    - cover.third_car_garage_door
    to: closed
    for:
      hours: 0
      minutes: 0
      seconds: 15
    trigger: state
  - entity_id:
    - cover.main_garage_door
    to: closed
    for:
      hours: 0
      minutes: 0
      seconds: 15
    trigger: state
  conditions: []
  actions:
  - data: {}
    target:
      entity_id:
      - light.main_garage_light
      - light.third_car_garage_light
      - light.garage_lamp
      - light.garage_lights
      - light.garage_lights_secondary
    action: light.turn_off
- id: iOS_Bedtime_Widget
  alias: iOS - Bedtime Widget
  description: ''
  triggers:
  - event_data:
      actionName: Bedtime
    event_type: ios.action_fired
    context:
      user_id:
      - e209297cdec44455856b6aab46832759
    trigger: event
  conditions: []
  actions:
  - data: {}
    action: script.bedtime_script
- id: iOS_MasterMovies_Widget
  alias: iOS - Master Movies Widget
  description: ''
  triggers:
  - event_data:
      actionName: Master Movies
    event_type: ios.action_fired
    trigger: event
  conditions: []
  actions:
  - data: {}
    action: script.master_movies_script
    enabled: false
  - action: switch.turn_off
    metadata: {}
    data: {}
    target:
      device_id: b872165e2222a6f688dc93719c3100ff
- id: Close_Garages_Nightly
  alias: Close Garages Nightly
  description: ''
  triggers:
  - at: '21:15:00'
    trigger: time
  conditions:
  - condition: or
    conditions:
    - condition: state
      entity_id: cover.main_garage_door
      state: open
    - condition: state
      entity_id: cover.third_car_garage_door
      state: open
  actions:
  - action: cover.close_cover
    metadata: {}
    data: {}
    target:
      entity_id:
      - cover.third_car_garage_door
      - cover.main_garage_door
  mode: single
- id: Timer_Powder_Fan
  alias: Timer Powder Fan
  description: ''
  triggers:
  - trigger: state
    entity_id:
    - fan.powder_fan
    from: 'off'
    to: 'on'
    for:
      hours: 0
      minutes: 20
      seconds: 0
  conditions: []
  actions:
  - action: fan.turn_off
    metadata: {}
    data: {}
    target:
      entity_id: fan.powder_fan
  mode: single
- id: Timer_Kids_Bathroom_Fan
  alias: Timer Kids Bathroom Fan
  description: ''
  triggers:
  - trigger: state
    entity_id:
    - fan.kids_bathroom_fan
    from: 'off'
    to: 'on'
    for:
      hours: 0
      minutes: 20
      seconds: 0
  conditions: []
  actions:
  - action: fan.turn_off
    metadata: {}
    data: {}
    target:
      entity_id: fan.kids_bathroom_fan
  mode: single
- id: Timer_Kids_Toilet_Lights
  alias: Timer Kids Toilet Lights
  description: ''
  triggers:
  - trigger: state
    entity_id:
    - light.kids_toilet_lights
    from: 'off'
    to: 'on'
    for:
      hours: 1
      minutes: 30
      seconds: 0
  conditions: []
  actions:
  - action: light.turn_off
    metadata: {}
    data: {}
    target:
      entity_id: light.kids_toilet_lights
  mode: single
- id: Timer_Kids_Shower_Lights
  alias: Timer Kids Shower Lights
  description: ''
  triggers:
  - trigger: state
    entity_id:
    - light.kids_shower_lights
    from: 'off'
    to: 'on'
    for:
      hours: 1
      minutes: 30
      seconds: 0
  conditions: []
  actions:
  - action: light.turn_off
    metadata: {}
    data: {}
    target:
      entity_id: light.kids_shower_lights
  mode: single
- id: Timer_Kids_Sink_Lights
  alias: Timer Kids Sink Lights
  description: ''
  triggers:
  - trigger: state
    entity_id:
    - light.kids_sink_lights
    from: 'off'
    to: 'on'
    for:
      hours: 1
      minutes: 0
      seconds: 0
  conditions: []
  actions:
  - action: light.turn_off
    metadata: {}
    data: {}
    target:
      entity_id: light.kids_sink_lights
  mode: single
- id: GreatRoom_Idle_Shutdown_TV
  alias: GreatRoom_Idle_Shutdown_TV
  description: ''
  triggers:
  - trigger: state
    entity_id:
    - media_player.great_room
    to: 'off'
  - trigger: state
    entity_id:
    - media_player.great_room
    to: idle
    for:
      hours: 0
      minutes: 15
      seconds: 0
  actions:
  - action: button.press
    metadata: {}
    data: {}
    target:
      entity_id:
      - button.media_controller_wemod1_main_tv_power_off
  - delay:
      hours: 0
      minutes: 0
      seconds: 0
      milliseconds: 500
  - action: button.press
    metadata: {}
    data: {}
    target:
      entity_id:
      - button.media_controller_wemod1_main_tv_power_off
  - action: media_player.turn_off
    metadata: {}
    data: {}
    target:
      entity_id: media_player.great_room
  mode: single
- id: GreatRoom_TV_Turn_on_For_Activity
  alias: GreatRoom_Turn_On_TV
  description: ''
  triggers:
  - trigger: state
    entity_id:
    - media_player.great_room
    to: 'on'
  - trigger: state
    entity_id:
    - media_player.great_room
    to: paused
  - trigger: state
    entity_id:
    - media_player.great_room
    to: buffering
  - trigger: state
    entity_id:
    - media_player.great_room
    to: playing
  conditions: []
  actions:
  - action: button.press
    metadata: {}
    data: {}
    target:
      entity_id:
      - button.media_controller_wemod1_main_tv_power_on
    enabled: true
  - delay:
      hours: 0
      minutes: 0
      seconds: 0
      milliseconds: 500
  - action: button.press
    metadata: {}
    data: {}
    target:
      entity_id:
      - button.media_controller_wemod1_soundbar_power_on
    enabled: true
  - delay:
      hours: 0
      minutes: 0
      seconds: 0
      milliseconds: 500
  - action: button.press
    metadata: {}
    data: {}
    target:
      entity_id:
      - button.media_controller_wemod1_main_tv_power_on
    enabled: true
  - delay:
      hours: 0
      minutes: 0
      seconds: 0
      milliseconds: 500
  - action: button.press
    metadata: {}
    data: {}
    target:
      entity_id:
      - button.media_controller_wemod1_soundbar_power_on
    enabled: true
  mode: single
- id: 3way_kitchen_can_lights_on
  alias: 3way_kitchen_can_lights_on
  description: ''
  triggers:
  - trigger: event
    event_type: esphome.3way_kitchen_can_lights_button
    event_data:
      action: pressed
  conditions:
  - condition: state
    entity_id: light.kitchen_can_lights
    state: 'off'
  actions:
  - action: light.turn_on
    metadata: {}
    data: {}
    target:
      entity_id:
      - light.kitchen_can_lights
      - light.kitchen_can_lights_secondary
  mode: single
- id: 3way_kitchen_can_lights_off
  alias: 3way_kitchen_can_lights_off
  description: ''
  triggers:
  - trigger: event
    event_type: esphome.3way_kitchen_can_lights_button
    event_data:
      action: pressed
  conditions:
  - condition: state
    entity_id: light.kitchen_can_lights
    state: 'on'
  actions:
  - action: light.turn_off
    metadata: {}
    data: {}
    target:
      entity_id:
      - light.kitchen_can_lights
      - light.kitchen_can_lights_secondary
  mode: single
- id: 3way_kitchen_sink_lights_off
  alias: 3way_kitchen_sink_lights_off
  description: ''
  triggers:
  - trigger: event
    event_type: esphome.3way_kitchen_sink_lights_button
    event_data:
      action: pressed
  conditions:
  - condition: state
    entity_id: light.kitchen_sink_lights
    state: 'on'
  actions:
  - action: light.turn_off
    metadata: {}
    data: {}
    target:
      entity_id:
      - light.kitchen_sink_lights
      - light.kitchen_sink_lights_secondary
  mode: single
- id: 3way_kitchen_sink_lights_on
  alias: 3way_kitchen_sink_lights_on
  description: ''
  triggers:
  - trigger: event
    event_type: esphome.3way_kitchen_sink_lights_button
    event_data:
      action: pressed
  conditions:
  - condition: state
    entity_id: light.kitchen_sink_lights
    state: 'off'
  actions:
  - action: light.turn_on
    metadata: {}
    data: {}
    target:
      entity_id:
      - light.kitchen_sink_lights
      - light.kitchen_sink_lights_secondary
  mode: single
- id: 3way_main_hall_lights_on
  alias: 3way_main_hall_lights_on
  description: ''
  triggers:
  - trigger: event
    event_type: esphome.3way_main_hall_lights_button
    event_data:
      action: pressed
  conditions:
  - condition: state
    entity_id: light.main_hall_lights
    state: 'off'
  actions:
  - action: light.turn_on
    metadata: {}
    data: {}
    target:
      entity_id:
      - light.main_hall_lights
      - light.main_hall_secondary
      - light.main_hall_tertiary
  mode: single
- id: 3way_main_hall_lights_off
  alias: 3way_main_hall_lights_off
  description: ''
  triggers:
  - trigger: event
    event_type: esphome.3way_main_hall_lights_button
    event_data:
      action: pressed
  conditions:
  - condition: state
    entity_id: light.main_hall_lights
    state: 'on'
  actions:
  - action: light.turn_off
    metadata: {}
    data: {}
    target:
      entity_id:
      - light.main_hall_lights
      - light.main_hall_secondary
      - light.main_hall_tertiary
  mode: single
- id: 3way_austins_hall_lights_on
  alias: 3way_austins_hall_lights_on
  description: ''
  triggers:
  - trigger: event
    event_type: esphome.3way_austins_hall_lights_button
    event_data:
      action: pressed
  conditions:
  - condition: state
    entity_id: light.austins_hall_lights
    state: 'off'
  actions:
  - action: light.turn_on
    metadata: {}
    data: {}
    target:
      entity_id:
      - light.austins_hall_lights
      - light.austins_hall_lights_secondary
  mode: single
- id: 3way_austins_hall_lights_off
  alias: 3way_austins_hall_lights_off
  description: ''
  triggers:
  - trigger: event
    event_type: esphome.3way_austins_hall_lights_button
    event_data:
      action: pressed
  conditions:
  - condition: state
    entity_id: light.austins_hall_lights
    state: 'on'
  actions:
  - action: light.turn_off
    metadata: {}
    data: {}
    target:
      entity_id:
      - light.austins_hall_lights
      - light.austins_hall_lights_secondary
  mode: single
- id: 3way_entry_can_lights_on
  alias: 3way_entry_can_lights_on
  description: ''
  triggers:
  - trigger: event
    event_type: esphome.3way_entry_can_lights_button
    event_data:
      action: pressed
  conditions:
  - condition: state
    entity_id: light.entry_can_lights
    state: 'off'
  actions:
  - action: light.turn_on
    metadata: {}
    data: {}
    target:
      entity_id:
      - light.entry_can_lights
      - light.entry_can_lights_secondary
      - light.entry_can_lights_tertiary
  mode: single
- id: 3way_entry_can_lights_off
  alias: 3way_entry_can_lights_off
  description: ''
  triggers:
  - trigger: event
    event_type: esphome.3way_entry_can_lights_button
    event_data:
      action: pressed
  conditions:
  - condition: state
    entity_id: light.entry_can_lights
    state: 'on'
  actions:
  - action: light.turn_off
    metadata: {}
    data: {}
    target:
      entity_id:
      - light.entry_can_lights
      - light.entry_can_lights_secondary
      - light.entry_can_lights_tertiary
  mode: single
- id: 3way_garage_lights_on
  alias: 3way_garage_lights_on
  description: ''
  triggers:
  - trigger: event
    event_type: esphome.3way_garage_lights_button
    event_data:
      action: pressed
  conditions:
  - condition: state
    entity_id: light.garage_lights
    state: 'off'
  actions:
  - action: light.turn_on
    metadata: {}
    data: {}
    target:
      entity_id:
      - light.third_car_garage_light
      - light.main_garage_light
      - light.garage_lamp
      - light.garage_lights
      - light.garage_lights_secondary
  mode: single
- id: 3way_garage_lights_off
  alias: 3way_garage_lights_off
  description: ''
  triggers:
  - trigger: event
    event_type: esphome.3way_garage_lights_button
    event_data:
      action: pressed
  conditions:
  - condition: state
    entity_id: light.garage_lights
    state: 'on'
  actions:
  - action: light.turn_off
    metadata: {}
    data: {}
    target:
      entity_id:
      - light.third_car_garage_light
      - light.main_garage_light
      - light.garage_lamp
      - light.garage_lights
      - light.garage_lights_secondary
  mode: single
- id: 3way_lilys_hall_lights_on
  alias: 3way_lilys_hall_lights_on
  description: ''
  triggers:
  - trigger: event
    event_type: esphome.3way_lilys_hall_lights_button
    event_data:
      action: pressed
  conditions:
  - condition: state
    entity_id: light.lilys_hall_lights
    state: 'off'
  actions:
  - action: light.turn_on
    metadata: {}
    data: {}
    target:
      entity_id:
      - light.lilys_hall_lights
      - light.lilys_hall_lights_secondary
      - light.lilys_hall_lights_tertiary
  mode: single
- id: 3way_lilys_hall_lights_off
  alias: 3way_lilys_hall_lights_off
  description: ''
  triggers:
  - trigger: event
    event_type: esphome.3way_lilys_hall_lights_button
    event_data:
      action: pressed
  conditions:
  - condition: state
    entity_id: light.lilys_hall_lights
    state: 'on'
  actions:
  - action: light.turn_off
    metadata: {}
    data: {}
    target:
      entity_id:
      - light.lilys_hall_lights
      - light.lilys_hall_lights_secondary
      - light.lilys_hall_lights_tertiary
  mode: single
- id: X1C_Chamber_Heat_-_Engage_Bento_Box
  alias: X1C Chamber Heat - Engage Bento Box
  description: Turns on the printer fan when the chamber temperature exceeds 98Â°F.
  triggers:
  - trigger: numeric_state
    entity_id:
    - sensor.x1c_chamber_temperature
    above: 97
    below: 1000
  conditions: []
  actions:
  - target:
      entity_id:
      - fan.printer_bento_box
    action: fan.turn_on
    data: {}
  - delay: 00:00:15
  mode: parallel
  max: 4
  max_exceeded: info
- id: X1C_Chamber_Heat_-_Disengage_Bento_Box
  alias: X1C Chamber Heat - Disengage Bento Box
  description: Turns off the printer fan when the chamber temperature is below 97
  triggers:
  - trigger: numeric_state
    entity_id:
    - sensor.x1c_chamber_temperature
    above: -1000
    below: 97
  conditions: []
  actions:
  - target:
      entity_id:
      - fan.printer_bento_box
    action: fan.turn_off
    data: {}
  - delay: 00:00:15
  mode: parallel
  max: 4
  max_exceeded: info
- id: 3way_basement_stair_lights_off
  alias: 3way_basement_stair_lights_off
  description: ''
  triggers:
  - trigger: event
    event_type: esphome.3way_basement_stair_lights_button
    event_data:
      action: pressed
  conditions:
  - condition: state
    entity_id: light.basement_stair_lights
    state: 'on'
  actions:
  - action: light.turn_off
    metadata: {}
    data: {}
    target:
      entity_id:
      - light.basement_stair_lights
      - light.basement_stair_lights_secondary
  mode: single
- id: 3way_basement_stair_lights_on
  alias: 3way_basement_stair_lights_on
  description: ''
  triggers:
  - trigger: event
    event_type: esphome.3way_basement_stair_lights_button
    event_data:
      action: pressed
  conditions:
  - condition: state
    entity_id: light.basement_stair_lights
    state: 'off'
  actions:
  - action: light.turn_on
    metadata: {}
    data: {}
    target:
      entity_id:
      - light.basement_stair_lights
      - light.basement_stair_lights_secondary
  mode: single
- id: Basement_Switch_Single_Click
  alias: Basement Switch - Single Click
  description: ''
  triggers:
  - trigger: event
    event_type: esphome.switch
    event_data:
      device: Basement Light Switch
      action: click
      button: '1'
  conditions: []
  actions:
  - action: light.toggle
    metadata: {}
    data:
      color_temp_kelvin: 3499
    target:
      entity_id: light.all_basement_lights
  mode: single
- id: Basement_Switch_Double_Click
  alias: Basement Switch - Double Click
  description: ''
  triggers:
  - trigger: event
    event_type: esphome.switch
    event_data:
      device: Basement Light Switch
      action: double_click
      button: '1'
  conditions: []
  actions:
  - action: light.toggle
    metadata: {}
    data:
      color_temp_kelvin: 3499
    target:
      entity_id:
      - light.office_lights
  mode: single
- id: Basement_Switch_Triple_Click
  alias: Basement Switch - Triple Click
  description: ''
  triggers:
  - trigger: event
    event_type: esphome.switch
    event_data:
      device: Basement Light Switch
      action: triple_click
      button: '1'
  conditions: []
  actions:
  - action: light.toggle
    metadata: {}
    data:
      color_temp_kelvin: 3499
    target:
      entity_id: light.gym_light
  mode: single
- id: Basement_Switch_Four_Clicks
  alias: Basement Switch - Four Clicks
  description: ''
  triggers:
  - trigger: event
    event_type: esphome.switch
    event_data:
      device: Basement Light Switch
      action: four_clicks
      button: '1'
  conditions: []
  actions:
  - action: light.toggle
    metadata: {}
    data:
      color_temp_kelvin: 3499
    target:
      entity_id: light.basement_lights
  mode: single
- id: Patio_Lights_Trigger_Gazebo_On
  alias: patio_lights_trigger_gazebo_on
  description: ''
  triggers:
  - trigger: state
    entity_id:
    - light.patio_lights
    to: 'on'
  conditions: []
  actions:
  - action: light.turn_on
    metadata: {}
    data: {}
    target:
      entity_id: light.gazebo_lights
  mode: single
- id: Patio_Lights_Trigger_Gazebo_Off
  alias: patio_lights_trigger_gazebo_off
  description: ''
  triggers:
  - trigger: state
    entity_id:
    - light.patio_lights
    to: 'off'
  conditions: []
  actions:
  - action: light.turn_off
    metadata: {}
    data: {}
    target:
      entity_id: light.gazebo_lights
  mode: single
- id: Dads_Dimmer_Gradual_Turn_On
  alias: Dads Dimmer Gradual Turn On
  description: ''
  triggers:
  - trigger: time
    at: 06:10:00
    weekday:
    - mon
    - tue
    - wed
    - thu
    - fri
    - sun
  conditions: []
  actions:
  - action: light.turn_on
    metadata: {}
    target:
      entity_id: light.dads_dimmer
    data:
      brightness: 1
  - repeat:
      until:
      - condition: template
        value_template: '{{ state_attr(''light.dads_dimmer'', ''brightness'') | int(0)
          >= 255 or is_state(''light.dads_dimmer'', ''off'') }}'
      sequence:
      - delay:
          hours: 0
          minutes: 0
          seconds: 15
          milliseconds: 0
      - action: light.turn_on
        target:
          entity_id: light.dads_dimmer
        data:
          brightness_step: 1
    enabled: true
  mode: single
- id: Lilys_Dimmer_Gradual_Turn_On
  alias: Lilys Dimmer Gradual Turn On
  description: ''
  triggers:
  - trigger: time
    at: 06:03:00
    weekday:
    - mon
    - tue
    - wed
    - thu
    - fri
  conditions: []
  actions:
  - action: light.turn_on
    metadata: {}
    target:
      entity_id:
      - light.lilys_dimmer
    data:
      brightness: 1
  - repeat:
      until:
      - condition: template
        value_template: '{{ state_attr(''light.lilys_dimmer'', ''brightness'') | int(0)
          >= 255 or is_state(''light.lilys_dimmer'', ''off'') }}'
      sequence:
      - delay:
          hours: 0
          minutes: 0
          seconds: 5
          milliseconds: 0
      - action: light.turn_on
        target:
          entity_id: light.lilys_dimmer
        data:
          brightness_step: 1
    enabled: true
  mode: single
- id: Morning_Appliance_Routine
  alias: Morning Appliance Routine
  description: ''
  triggers:
  - trigger: time
    at: 06:00:00
    weekday:
    - sun
    - mon
    - tue
    - wed
    - thu
    - fri
    - sat
  conditions: []
  actions:
  - action: switch.turn_on
    metadata: {}
    data: {}
    target:
      entity_id: switch.opal_ice_maker
  - action: select.select_option
    metadata: {}
    target:
      entity_id: select.opal_ice_maker_light_level
    data:
      option: Dim
  mode: single
